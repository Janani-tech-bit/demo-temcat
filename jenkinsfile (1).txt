pipeline {
agent any
environment{
PATH="/usr/share/maven/bin:$PATH"
}
stages{
        stage("Git Checkout"){
            steps{
                git branch: 'main', credentialsId: 'Github', url: 'https://github.com/Janani-tech-bit/demo-temcat.git'
            }
        }
stage("Build Image"){
steps
{
sh 'mvn clean package'
}
}
stage("Push Image"){
steps
{
sh 'docker login -u janustar2008303 -p Janukarthik@612'
sh 'docker image build . -t janustar2008303/test:v1 -f Dockerfile'
sh 'docker image push janustar2008303/test:v1'
}
}
}
}
